# Регистрация пользователя на кластере

Доступ пользователей осуществляется удаленно только по протоколу SSH (версия 2) с использованием пары открытого/закрытого ключа. **Доступ по паролю на кластере запрещен!**

## Регистрация учетной записи

Для регистрации пользователя отправьте сообщение на почту ppvgv@iam.dvo.ru с темой "Регистрация пользователя на кластере".

В письме укажите:

* Фамилия, Имя, Отчество
* Место работы
* Номер телефона
* Публичный ключ

В ответ администратор кластера сообщит логин Вашей учетной записи.

О генерации публичных ключей можно прочесть [тут](key_generation.md).

Пример публичного ключа:
```
ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAzL4fjmr48PG0coTjwJ9LY2gyEnSuBohsgRR+u/HYEKPnVhdMJuWyJQDI+04R9hzFGrwA17NgyxV8R6o8bwDex9ATEmqWGARDg/9F6sGNq/cJrGqnvneBWDwjMvPnMVuAG1WF7eiqkGE43lgn5d/9MNfIDlxw9VPH1r591ILWbKRF0Mhmmqj80XEUINI6NxT5whSK08mumZxz8S4DE41nYk+/8in+0tHbigh62DsHdG13ldHw28kM/aRbZSZRC45d2fCHcOSzjQ+D6ucAutyhaZ190FyARwV4CvLrO9iKhH26Nz2cJngn2uQWWcfW1M28RG8gxmkpq1e1OtUfDBdlSw==
```

Не теряйте и не передавайте никому свой приватный ключ. Также, не направляйте его по почте, даже администратору кластера. Обладание таким ключом дает злоумышленнику доступ к вашему хранилищу данных на кластере и возможности запускать вредоносные программы.

## Доступ пользователей

Для доступа к кластеру рекомендуется использовать openssh клиент, но допускается использование любого другого. В последних версиях Windows 10, клиент `openssh` установлен по умолчанию и доступен в виде консольной команды `ssh`. Проверить его установку можно открыв командную строку (CMD) и введя команду `ssh -V`. Если команда выдала версию ssh, то ничего дополнительно устанавливать не требуется. Если команда не найдена, то требуется активировать openssh согласно инструкции [тут](https://docs.microsoft.com/ru-ru/windows-server/administration/openssh/openssh_install_firstuse).

В ОС Linux, Mac OS клиент OpenSSH обычно устанавливается вместе с системой, либо доступен в менеджере пакетов.

Для подключения запустите терминал (консоль) и введите команду: `ssh <логин>@188.170.233.178 -i key`, где `<логин>` - ваша учетная запись, `-i key` указывает на ваш файл с приватным ключом. Если приватный ключ находится по адресу `.ssh/id_rsa` вашей домашней директории, то указывать его не обязательно.

## Использование Putty в качестве клиента

Клиент Putty можно загрузить с [официального сайта](https://www.putty.org/).
После запуска мы увидим такое окно:

![](user_instructions_images/putty-main.png)

В поле hostname вводим <логин>@<адрес> кластера. Адрес указан в [разделе описания кластера](description.md). Порт указываем `22`, протокол `SSH`.

В разделе настроек `connection` -> `ssh` -> `auth` в поле `private key file` указываем свой приватный ключ.

![](user_instructions_images/putty-key.png)

На главном экране putty в поле `saved sessions` можно задать имя подключения и сохранить сессию, чтобы заново не вводить данные при новом подключении (кнопка `save`). 

Теперь нажмите `open`, и если все настроено верно, Вы попадете на кластер.